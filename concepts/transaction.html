
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Transaction &#8212; Symbol Documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700&display=swap" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/examplecode.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'Main',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/custom.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/examplecode.js"></script>
    <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Transfer Transaction" href="transfer-transaction.html" />
    <link rel="prev" title="Reward Programs" href="reward-programs.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=5'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174021413-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-174021413-2');
</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../guides/atom.xml" title="Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body>

<div class="navbar navbar-default gradient navbar-fixed-top"
     id="navbar">
    <div class="container navbar-top hidden-xs hidden-sm">
        <div class="row">
            <div class="col-lg-8 col-md-7">
                <div id="language">
    <label class="select">
        <select>
            <option id="english" value="en">EN</option>
            <option id="japanese" value="ja">JA</option>
            <!--<option id="chinese" value="zh_CN">中文</option>-->
            <option id="translate" value="translate">Translate</option>
        </select>
    </label>
</div>
            </div>
            <div class="col-lg-4 col-md-5">
                
                <div id="search-box">
    <input class="search search-desktop form-control" placeholder="Search"/>
</div>
                
                <ul id="social" class="list-inline">
    <li>
        <a href="https://twitter.com/NEMofficial" rel="nofollow"><i class="fab fa-twitter" title="Twitter"></i></a>
    </li>
    <li>
        <a href="https://discord.com/invite/xymcity" rel="nofollow" title="Discord"><i class="fab fa-discord"></i></a>
    </li>
    <li>
        <a href="https://github.com/symbol/" rel="nofollow" title="GitHub"><i class="fab fa-github"></i></a>
    </li>
</ul>
            </div>
        </div>
    </div>
    <hr/>
    <div class="container navbar-main">
        <div class="row">
            <div class="navbar-header col-lg-6 col-md-4 col-xs-6">
                <a class="navbar-brand" href="../index.html">
                    
                    <span><img alt="NEM logo" src="../_static/logo-symbol.svg"></span>
                    
                </a>
            </div>
            <div class="navbar-right col-lg-6 col-md-8 hidden-xs hidden-sm">
                <ul class="list-inline">
    <li>
        <a href="/getting-started/what-is-symbol.html" class="">Getting Started</a>
    </li>
    <li>
        <a href="/concepts/overview.html" class="active">Features</a>
    </li>
    <li>
        <a href="/guides/category.html" class="">Guides</a>
    </li>
    <li>
        <a href="/references/overview.html" class="">Tools</a>
    </li>
    <li>
        <a href="/contribute/community.html" class="">Help</a>
    </li>
</ul>
            </div>
            <div class="navbar-right col-xs-6 hidden-lg hidden-md">
                
                <div id="search-box">
    <input class="search search-mobile form-control" placeholder="Search"/>
</div>
                

            </div>
        </div>
        <div class="row">
            <div class="col-md-12 sidebar-xs visible-xs visible-sm">
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Navigation <b
                            class="caret"></b></a>
                    <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregate-transaction.html">Aggregate Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="consensus-algorithm.html">Consensus</a></li>
<li class="toctree-l2"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-validation.html">Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l2"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l2"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin.html">Extending Symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l2"><a class="reference internal" href="reward-programs.html">Reward Programs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributing</a></li>
</ul>
</ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        
        

<div class="col-md-3">
    <div id="sidebar" class="bs-sidenav" role="complementary">
        
        <div class="sidebar-md hidden-xs hidden-sm">
    <h4>Navigation</h4>
    <hr />
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregate-transaction.html">Aggregate Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="consensus-algorithm.html">Consensus</a></li>
<li class="toctree-l2"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-validation.html">Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l2"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l2"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin.html">Extending Symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l2"><a class="reference internal" href="reward-programs.html">Reward Programs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributing</a></li>
</ul>

</div>
        
    </div>
</div>


        
        <div class="col-md-7 content">
            
  <div class="section" id="transaction">
<h1>Transaction<a class="headerlink" href="#transaction" title="Permalink to this headline">¶</a></h1>
<p>A transaction generally represents a unit of work within a database system.
In the case of blockchain, that is when an action signed by an <a class="reference internal" href="account.html"><span class="doc">account</span></a> changes its state.</p>
<div class="section" id="transaction-types">
<h2>Transaction types<a class="headerlink" href="#transaction-types" title="Permalink to this headline">¶</a></h2>
<p id="id1">Symbol supports many different transaction types.
For example, there are transactions to transfer <a class="reference internal" href="mosaic.html"><span class="doc">mosaics</span></a> between accounts, messages or configure the ownership of accounts (including the use of <a class="reference internal" href="multisig-account.html"><span class="doc">multisig</span></a> rules), and more.</p>
<p>The following transaction types are included in Symbol based networks by default:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Id</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Account Link</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x414C</td>
<td><a class="reference internal" href="../serialization/account_link.html#account-key-link-transaction"><span class="std std-ref">AccountKeyLinkTransaction</span></a></td>
<td>Delegate the account importance to a proxy account. Required for all accounts willing to activate delegated harvesting.</td>
</tr>
<tr class="row-even"><td>0x424C</td>
<td><a class="reference internal" href="../serialization/account_link.html#node-key-link-transaction"><span class="std std-ref">NodeKeyLinkTransaction</span></a></td>
<td>Link an account with a public key used by TLS to create sessions. Required for all accounts willing to activate delegated harvesting.</td>
</tr>
<tr class="row-odd"><td><strong>Aggregate</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4141</td>
<td><a class="reference internal" href="aggregate-transaction.html#id1"><span class="std std-ref">AggregateCompleteTransaction</span></a></td>
<td>Send transactions in batches to different accounts.</td>
</tr>
<tr class="row-odd"><td>0x4241</td>
<td><a class="reference internal" href="aggregate-transaction.html#id1"><span class="std std-ref">AggregateBondedTransaction</span></a></td>
<td>Propose an arrangement of transactions between different accounts.</td>
</tr>
<tr class="row-even"><td>–</td>
<td><a class="reference internal" href="../serialization/aggregate.html#cosignature-transaction"><span class="std std-ref">CosignatureTransaction</span></a></td>
<td>Cosign an AggregateBondedTransaction.</td>
</tr>
<tr class="row-odd"><td><strong>Core</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4143</td>
<td><a class="reference internal" href="../serialization/coresystem.html#voting-key-link-transaction"><span class="std std-ref">VotingKeyLinkTransaction</span></a></td>
<td>Link an account with a BLS public key. Required for node operators willing to vote finalized blocks.</td>
</tr>
<tr class="row-odd"><td>0x4243</td>
<td><a class="reference internal" href="../serialization/coresystem.html#vrf-key-link-transaction"><span class="std std-ref">VrfKeyLinkTransaction</span></a></td>
<td>Link an account with a VRF public key. Required for all harvesting eligible accounts.</td>
</tr>
<tr class="row-even"><td><strong>Mosaic</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x414D</td>
<td><a class="reference internal" href="../serialization/mosaic.html#mosaic-definition-transaction"><span class="std std-ref">MosaicDefinitionTransaction</span></a></td>
<td>Create a new mosaic.</td>
</tr>
<tr class="row-even"><td>0x424D</td>
<td><a class="reference internal" href="../serialization/mosaic.html#mosaic-supply-change-transaction"><span class="std std-ref">MosaicSupplyChangeTransaction</span></a></td>
<td>Change the mosaic total supply.</td>
</tr>
<tr class="row-odd"><td><strong>Namespace</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x414E</td>
<td><a class="reference internal" href="../serialization/namespace.html#namespace-registration-transaction"><span class="std std-ref">NamespaceRegistrationTransaction</span></a></td>
<td>Register a namespace to organize your assets.</td>
</tr>
<tr class="row-odd"><td>0x424E</td>
<td><a class="reference internal" href="../serialization/namespace.html#address-alias-transaction"><span class="std std-ref">AddressAliasTransaction</span></a></td>
<td>Attach a namespace name to an account.</td>
</tr>
<tr class="row-even"><td>0x434E</td>
<td><a class="reference internal" href="../serialization/namespace.html#mosaic-alias-transaction"><span class="std std-ref">MosaicAliasTransaction</span></a></td>
<td>Attach a namespace name to a mosaic.</td>
</tr>
<tr class="row-odd"><td><strong>Metadata</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4144</td>
<td><a class="reference internal" href="../serialization/metadata.html#account-metadata-transaction"><span class="std std-ref">AccountMetadataTransaction</span></a></td>
<td>Associate a key-value state to an account.</td>
</tr>
<tr class="row-odd"><td>0x4244</td>
<td><a class="reference internal" href="../serialization/metadata.html#mosaic-metadata-transaction"><span class="std std-ref">MosaicMetadataTransaction</span></a></td>
<td>Associate a key-value state to a mosaic.</td>
</tr>
<tr class="row-even"><td>0x4344</td>
<td><a class="reference internal" href="../serialization/metadata.html#namespace-metadata-transaction"><span class="std std-ref">NamespaceMetadataTransaction</span></a></td>
<td>Associate a key-value state to a namespace.</td>
</tr>
<tr class="row-odd"><td><strong>Multisignature</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4155</td>
<td><a class="reference internal" href="../serialization/multisig.html#multisig-account-modification-transaction"><span class="std std-ref">MultisigAccountModificationTransaction</span></a></td>
<td>Create or modify a multisig contract.</td>
</tr>
<tr class="row-odd"><td><strong>Hash Lock</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4148</td>
<td><a class="reference internal" href="../serialization/lock_hash.html#hash-lock-transaction"><span class="std std-ref">HashLockTransaction</span></a></td>
<td>Lock a deposit needed to announce aggregate bonded transactions.</td>
</tr>
<tr class="row-odd"><td><strong>Secret Lock</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4152</td>
<td><a class="reference internal" href="../serialization/lock_secret.html#secret-lock-transaction"><span class="std std-ref">SecretLockTransaction</span></a></td>
<td>Start a token swap between different chains.</td>
</tr>
<tr class="row-odd"><td>0x4252</td>
<td><a class="reference internal" href="../serialization/lock_secret.html#secret-proof-transaction"><span class="std std-ref">SecretProofTransaction</span></a></td>
<td>Conclude a token swap between different chains.</td>
</tr>
<tr class="row-even"><td><strong>Account restriction</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x4150</td>
<td><a class="reference internal" href="../serialization/restriction_account.html#account-address-restriction-transaction"><span class="std std-ref">AccountAddressRestrictionTransaction</span></a></td>
<td>Allow or block incoming and outgoing transactions for a given a set of addresses.</td>
</tr>
<tr class="row-even"><td>0x4250</td>
<td><a class="reference internal" href="../serialization/restriction_account.html#account-mosaic-restriction-transaction"><span class="std std-ref">AccountMosaicRestrictionTransaction</span></a></td>
<td>Allow or block incoming transactions containing a given set of mosaics.</td>
</tr>
<tr class="row-odd"><td>0x4350</td>
<td><a class="reference internal" href="../serialization/restriction_account.html#account-operation-restriction-transaction"><span class="std std-ref">AccountOperationRestrictionTransaction</span></a></td>
<td>Allow or block outgoing transactions by transaction type.</td>
</tr>
<tr class="row-even"><td><strong>Mosaic restriction</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x4151</td>
<td><a class="reference internal" href="../serialization/restriction_mosaic.html#mosaic-global-restriction-transaction"><span class="std std-ref">MosaicGlobalRestrictionTransaction</span></a></td>
<td>Set global rules to transfer a restrictable mosaic.</td>
</tr>
<tr class="row-even"><td>0x4251</td>
<td><a class="reference internal" href="../serialization/restriction_mosaic.html#mosaic-address-restriction-transaction"><span class="std std-ref">MosaicAddressRestrictionTransaction</span></a></td>
<td>Set address specific rules to transfer a restrictable mosaic.</td>
</tr>
<tr class="row-odd"><td><strong>Transfer</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4154</td>
<td><a class="reference internal" href="../serialization/transfer.html#transfer-transaction"><span class="std std-ref">TransferTransaction</span></a></td>
<td>Send mosaics and messages between two accounts.</td>
</tr>
</tbody>
</table>
<p>Every base transaction type available in Symbol is defined as a separate <a class="reference internal" href="plugin.html"><span class="doc">plugin</span></a>.
The plugin approach allows developers to introduce new transaction types without modifying the core engine or disrupting other features.</p>
</div>
<div class="section" id="defining-a-transaction">
<span id="transaction-definition"></span><h2>Defining a transaction<a class="headerlink" href="#defining-a-transaction" title="Permalink to this headline">¶</a></h2>
<p>Transactions are defined in a serialized form.
Every transaction extends from the base <a class="reference internal" href="../serialization/transaction.html#id1"><span class="std std-ref">transaction schema definition</span></a>, adding the type’s particular properties.</p>
<p>All transactions should define a deadline and a max_fee:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">deadline</span></code>: A transaction has a time window to be accepted before it reaches its deadline. The transaction expires when the deadline is reached and all the nodes reject the transaction. By default, the SDK sets the deadline to 2 hours, but it can be extended up to 6 hours (or 48 for <a class="reference internal" href="aggregate-transaction.html#aggregate-bonded"><span class="std std-ref">Aggregate bonded</span></a> transactions).</li>
<li><code class="docutils literal"><span class="pre">max_fee</span></code>: The maximum amount of network currency that the sender of the transaction is willing to pay to get the transaction accepted. <a class="reference internal" href="fees.html"><span class="doc">The next documentation</span></a> shows you how to set the optimal max_fee value.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference external" href="https://github.com/symbol/catbuffer-schemas">catbuffer schemas</a> repository defines how each transaction type should be serialized. In combination with the <a class="reference external" href="https://github.com/symbol/catbuffer-generators">catbuffer-generators</a> project, developers can generate builder classes for a given set of programming languages.</p>
</div>
<p>We recommend using the <a class="reference internal" href="../sdk.html"><span class="doc">SDK</span></a> to define new transactions.</p>
<div class="example-code container">
<div class="literal-block-wrapper container" id="id2">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/symbol/symbol-docs/blob/main/source/resources/examples/typescript/transfer/SendingATransferTransaction.ts">View Code</a></span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-typescript"><div class="highlight"><pre><span></span>  <span class="c1">// replace with recipient address</span>
  <span class="kd">const</span> <span class="nx">rawAddress</span> <span class="o">=</span> <span class="s1">&#39;TB6Q5E-YACWBP-CXKGIL-I6XWCH-DRFLTB-KUK34I-YJQ&#39;</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">recipientAddress</span> <span class="o">=</span> <span class="nx">Address</span><span class="p">.</span><span class="nx">createFromRawAddress</span><span class="p">(</span><span class="nx">rawAddress</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">transferTransaction</span> <span class="o">=</span> <span class="nx">TransferTransaction</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="nx">Deadline</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">epochAdjustment</span><span class="p">),</span>
    <span class="nx">recipientAddress</span><span class="p">,</span>
    <span class="p">[</span><span class="nx">currency</span><span class="p">.</span><span class="nx">createRelative</span><span class="p">(</span><span class="mf">10</span><span class="p">)],</span>
    <span class="nx">PlainMessage</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;This is a test message&#39;</span><span class="p">),</span>
    <span class="nx">networkType</span><span class="p">,</span>
    <span class="nx">UInt64</span><span class="p">.</span><span class="nx">fromUint</span><span class="p">(</span><span class="mf">2000000</span><span class="p">),</span>
  <span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="signing-a-transaction">
<span id="transaction-signature"></span><h2>Signing a transaction<a class="headerlink" href="#signing-a-transaction" title="Permalink to this headline">¶</a></h2>
<p>Accounts must sign transactions before announcing them to the network.
Signing a transaction expresses the account’s agreement to change the network state as defined.</p>
<p>For example, a TransferTransaction describes who the recipient is and the number of mosaics to transfer.
In this case, signing the transaction means to accept moving those mosaics from one account’s balance to another.</p>
<p>An account has to follow the next steps to <a class="reference external" href="https://github.com/symbol/symbol-sdk-typescript-javascript/blob/main/src/model/transaction/Transaction.ts#L216">sign a transaction</a>:</p>
<ol class="arabic simple">
<li>Get the <code class="docutils literal"><span class="pre">signing</span> <span class="pre">bytes</span></code>, which are all the bytes of the transaction except the size, signature, and signer.</li>
<li>Get the nemesis block <code class="docutils literal"><span class="pre">generation</span> <span class="pre">hash</span></code>. You can query <code class="docutils literal"><span class="pre">nodeUrl</span> <span class="pre">+</span> <span class="pre">'/node/info'</span></code> and copy <code class="docutils literal"><span class="pre">meta.networkGenerationHash</span></code> value.</li>
<li>Prepend the nemesis block generation hash to the signing bytes.</li>
<li>Sign the resulting string with the signer’s private key. This will give you the transaction <code class="docutils literal"><span class="pre">signature</span></code>.</li>
<li>Append the signer’s signature and public key to the transaction to obtain the <code class="docutils literal"><span class="pre">payload</span></code>.</li>
<li>Calculate the <a class="reference external" href="https://github.com/symbol/symbol-sdk-typescript-javascript/blob/main/src/model/transaction/Transaction.ts#L127">transaction hash</a> by applying SHA3-512 hashing algorithm to the first 32 bytes of signature, the signer public key, nemesis block generation hash, and the remaining transaction payload.</li>
</ol>
<div class="example-code container">
<div class="literal-block-wrapper container" id="id3">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/symbol/symbol-docs/blob/main/source/resources/examples/typescript/transfer/SendingATransferTransaction.ts">View Code</a></span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-typescript"><div class="highlight"><pre><span></span>  <span class="c1">// replace with sender private key</span>
  <span class="kd">const</span> <span class="nx">privateKey</span> <span class="o">=</span>
    <span class="s1">&#39;1111111111111111111111111111111111111111111111111111111111111111&#39;</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">account</span> <span class="o">=</span> <span class="nx">Account</span><span class="p">.</span><span class="nx">createFromPrivateKey</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">,</span> <span class="nx">networkType</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">signedTransaction</span> <span class="o">=</span> <span class="nx">account</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span>
    <span class="nx">transferTransaction</span><span class="p">,</span>
    <span class="nx">networkGenerationHash</span><span class="p">,</span>
  <span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Payload:&#39;</span><span class="p">,</span> <span class="nx">signedTransaction</span><span class="p">.</span><span class="nx">payload</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Transaction Hash:&#39;</span><span class="p">,</span> <span class="nx">signedTransaction</span><span class="p">.</span><span class="nx">hash</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="announcing-a-transaction">
<h2>Announcing a transaction<a class="headerlink" href="#announcing-a-transaction" title="Permalink to this headline">¶</a></h2>
<p>Signed transactions are ready to be announced to the network.
You can either use the SDK <code class="docutils literal"><span class="pre">TransactionHttp</span></code> service or append the payload to the request of the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v0.11.3/#operation/announceTransaction">transaction endpoint</a>.</p>
<div class="example-code container">
<div class="literal-block-wrapper container" id="id4">
<div class="code-block-caption"><span class="caption-text"><a class="reference external" href="https://github.com/symbol/symbol-docs/blob/main/source/resources/examples/typescript/transfer/SendingATransferTransaction.ts">View Code</a></span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-typescript"><div class="highlight"><pre><span></span>  <span class="kd">const</span> <span class="nx">transactionRepository</span> <span class="o">=</span> <span class="nx">repositoryFactory</span><span class="p">.</span><span class="nx">createTransactionRepository</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">transactionRepository</span>
    <span class="p">.</span><span class="nx">announce</span><span class="p">(</span><span class="nx">signedTransaction</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">toPromise</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -X PUT -H <span class="s2">&quot;Content-type: application/json&quot;</span> -d <span class="s1">&#39;{&quot;payload&quot;:&quot;B3000000F77A8DCFCB57B81F9BE5B46738F7132998F55123BFF4D89DC8E5CAE1F071A040E5571F4D8DA125B243C785DA5261F878E3DE898815F6E8F12A2C0A5F0A9C3504FA6249E8334E3F83E972461125504AFFD3E7750AFBB3371E7B2D22A599A3D0E3039054410000000000000000265DEE3F1700000090FA39EC47E05600AFA74308A7EA607D145E371B5F4F1447BC0F00010057656C636F6D6520546F204E454D44B262C46CEABB858096980000000000&quot;}&#39;</span> http://localhost:3000/transaction
</pre></div>
</div>
</div>
<p>After announcing the transaction, the REST API will always return an OK response immediately.
At this point, it is still unknown whether the transaction is valid.</p>
<div class="figure align-center" id="id5">
<img alt="../_images/transaction-cycle.png" src="../_images/transaction-cycle.png" style="width: 800px;" />
<p class="caption"><span class="caption-text">Transaction cycle</span></p>
</div>
</div>
<div class="section" id="validation">
<span id="transaction-validation"></span><h2>Validation<a class="headerlink" href="#validation" title="Permalink to this headline">¶</a></h2>
<p>The first stage of validation happens in the API nodes.
If the transaction encounters an error, the WebSocket throws a notification through the status channel.
If not, the transaction reaches the P2P network with an <strong>unconfirmed</strong> status.
In this state, it is not yet clear if the transaction will get included in a block. Thus, an unconfirmed transaction should never be relied upon.</p>
<p>The second validation happens before the transaction is added in a <a class="reference internal" href="block.html"><span class="doc">harvested block</span></a>.
If successful, the harvester stores the transaction in a block and the transaction reaches the <strong>confirmed</strong> status.
At this state, the transaction is officially recorded in the blockchain ledger, but has not yet reached <strong>finality</strong>.</p>
<p>Under certain circumstances, such as a network failure or partition, the most recently confirmed blocks can be <a class="reference internal" href="block.html#rollbacks"><span class="std std-ref">rolled back</span></a>.
Hence, confirmed transactions that have not been finalized are recognized by the network but are not immutable because they can still be reversed.</p>
<p>For a block to be immutable, it needs to complete the <a class="reference internal" href="block.html#finalization"><span class="std std-ref">finalization</span></a> process.
Once a block is finalized, the block and the included transactions are permanently recorded on the blockchain ledger.</p>
</div>
<div class="section" id="spam-throttle">
<h2>Spam Throttle<a class="headerlink" href="#spam-throttle" title="Permalink to this headline">¶</a></h2>
<p>The node’s cache holds unconfirmed transactions until they can be included in a block.
Since cache is a valuable resource, Symbol implements a spam throttle that prevents an attacker from filling the cache with unconfirmed transactions while still letting honest actors successfully submit new unconfirmed transactions.</p>
<p>The spam throttle controls the amount of unconfirmed transactions accounts can submit by calculating the fair share of cache for each account relative to its importance score.
If an account has surpassed its fair share of the cache and the node cache contains more unconfirmed transactions than the amount that can be included in a single block, the transaction will be rejected.
This effectively blocks malicious actors from spamming a node with transactions while allowing other users to continue using the node normally.</p>
</div>
<div class="section" id="guides">
<h2>Guides<a class="headerlink" href="#guides" title="Permalink to this headline">¶</a></h2>
<ul class="postlist-style-circle postlist">
<li><p class="first"><a class="reference internal" href="../guides/monitor/turning-the-asynchronous-transaction-announcement-into-synchronous.html">Turning the asynchronous transaction announcement into synchronous</a></p>
<p>Handy snippet to announce a transaction and wait until this is confirmed.</p>
</li>
</ul>
<p>Continue: <a class="reference internal" href="fees.html"><span class="doc">Fees</span></a>.</p>
</div>
</div>

  <div class="section">
  
  
  </div>

            
            <p class="feedback">
                <hr/>
                Did you find what you were looking for?
                <a href="https://github.com/symbol/symbol-docs/issues/new/choose" target="_blank">Give us your feedback.</a>
            </p>
            
        </div>
         

<div class="col-md-2">
    <div class="bs-sidenav secondary" role="complementary">
    
    <div class="edit-github">
    <a href="https://github.com/symbol/symbol-docs/edit/main/source/concepts/transaction.rst" rel="nofollow"> <i class="fab fa-github"></i> Improve this page</a>
</div>
    <span class="title">On this page</span>
    <ul>
<li><a class="reference internal" href="#">Transaction</a><ul>
<li><a class="reference internal" href="#transaction-types">Transaction types</a></li>
<li><a class="reference internal" href="#defining-a-transaction">Defining a transaction</a></li>
<li><a class="reference internal" href="#signing-a-transaction">Signing a transaction</a></li>
<li><a class="reference internal" href="#announcing-a-transaction">Announcing a transaction</a></li>
<li><a class="reference internal" href="#validation">Validation</a></li>
<li><a class="reference internal" href="#spam-throttle">Spam Throttle</a></li>
<li><a class="reference internal" href="#guides">Guides</a></li>
</ul>
</li>
</ul>

    
    </div>
</div>

 
    </div>
</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-desktop',
        debug: false
    });

    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-mobile',
        debug: false
    });
</script>

  </body>
</html>