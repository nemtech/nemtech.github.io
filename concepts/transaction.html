
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Transaction &#8212; NEM Developer Center</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/examplecode.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'Master',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/custom.js"></script>
    <script type="text/javascript" src="../_static/examplecode.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Consensus Algorithm" href="consensus-algorithm.html" />
    <link rel="prev" title="Block" href="block.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=5'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<script type="text/javascript">
    var _paq = window._paq || [];
    _paq.push(['disableCookies']);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
        var u="https://nemtech.matomo.cloud/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '1']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/nemtech.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
    })();
</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../guides/atom.xml" title="Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body>

<div id="navbar"
     class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header col-md-3 col-sm-5">
            <a class="navbar-brand" href="../index.html">
                
                <span><img src="../_static/logo-nem.svg" alt="NEM logo"></span>
                
                developer center
            </a>
        </div>
        <div class="navbar-nav col-md-6 col-sm-7 hidden-xs">
            <div class="search-box">
    <input id="search" class="form-control" placeholder="Search for features, guides, or code examples"/>
    <i class="fas fa-search"></i>
</div>
        </div>
        <div class="navbar-right col-md-3">
            <ul>
                <ul class="list-inline">
    
    <li id="edit-github" class="hidden-xs hidden-sm">
        <a href="https://github.com/nemtech/nem2-docs/edit/master/source/concepts\transaction.rst"
           rel="nofollow"> <i class="fab fa-github"></i> Edit</a>
    </li>
    
    <li id="language" class="hidden-xs hidden-sm">
        <i class="fas fa-language"></i>
        <select>
            <option id="english" value="en">English</option>
            <option id="japanese" value="ja">日本語</option>
            <!--<option id="chinese" value="zh_CN">中文</option>-->
            <option id="translate" value="translate">Translate</option>
        </select>
    </li>
</ul>
            </ul>
        </div>
    </div>
</div>

<div
         class="container"
        >

    <div class="row">

        

        

<div class="col-md-3">
    <div id="sidebar" class="bs-sidenav" role="complementary">
        
        <div class="sidebar-md hidden-xs hidden-sm">
    <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/what-is-nem.html">What is NEM?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-workstation.html">Setting up your workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-application.html">Writing your first application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/training.html">Self-paced training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/migration/migrating-from-nis1-to-catapult.html">Migrating from NIS1 to Catapult</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate-transaction.html">Aggregate Transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
</ul>
<p class="caption"><span class="caption-text">Protocol</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Transaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transaction-types">Transaction types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-a-transaction">Defining a transaction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fees">Fees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#signing-a-transaction">Signing a transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#announcing-a-transaction">Announcing a transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rollbacks">Rollbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guides">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="#schemas">Schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Transaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#embeddedtransaction">EmbeddedTransaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sizeprefixedentity">SizePrefixedEntity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="consensus-algorithm.html">Consensus Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l1"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Node</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototyping-tool.html">Prototyping Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensions.html">Extensions</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributing.html">Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributors.html">Contributors</a></li>
</ul>

    <p class="version">
        <small><b>Version:</b> <a href="https://github.com/nemtech/nem2-docs/releases">0.18.4</a></small>
    </p>
</div>

<div class="sidebar-xs visible-xs visible-sm">
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Navigation <b class="caret"></b></a>
        <ul class="dropdown-menu globaltoc"><p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/what-is-nem.html">What is NEM?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup-workstation.html">Setting up your workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/first-application.html">Writing your first application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/training.html">Self-paced training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/migration/migrating-from-nis1-to-catapult.html">Migrating from NIS1 to Catapult</a></li>
</ul>
<p class="caption"><span class="caption-text">Built-in Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate-transaction.html">Aggregate Transaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l1"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
</ul>
<p class="caption"><span class="caption-text">Protocol</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Transaction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transaction-types">Transaction types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-a-transaction">Defining a transaction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fees">Fees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#signing-a-transaction">Signing a transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#announcing-a-transaction">Announcing a transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rollbacks">Rollbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guides">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="#schemas">Schemas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">Transaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#embeddedtransaction">EmbeddedTransaction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sizeprefixedentity">SizePrefixedEntity</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="consensus-algorithm.html">Consensus Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l1"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l1"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Node</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prototyping-tool.html">Prototyping Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensions.html">Extensions</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute/community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributing.html">Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contributors.html">Contributors</a></li>
</ul>
</ul>
    </li>
</div>
        
    </div>
</div>


        
        <div class="col-md-7 content">
            
  <div class="section" id="transaction">
<h1>Transaction<a class="headerlink" href="#transaction" title="Permalink to this headline">¶</a></h1>
<p>A transaction generally represents a unit of work within a database system. In the case of blockchain, that is when an action signed by an <a class="reference internal" href="account.html"><span class="doc">account</span></a> changes its state.</p>
<p>Transactions accepted by the network are stored permanently on <a class="reference internal" href="block.html"><span class="doc">blocks</span></a>.</p>
<div class="section" id="transaction-types">
<h2>Transaction types<a class="headerlink" href="#transaction-types" title="Permalink to this headline">¶</a></h2>
<p id="id1">There are different types of transactions. For example, you can transfer <a class="reference internal" href="mosaic.html"><span class="doc">mosaics</span></a> between accounts, transfer or configure the ownership of accounts (including the use of <a class="reference internal" href="multisig-account.html"><span class="doc">multisig</span></a> rules), and more.</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Id</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Remote harvesting</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x414C</td>
<td><a class="reference internal" href="harvesting.html#account-link-transaction"><span class="std std-ref">Account Link</span></a></td>
<td>Delegate the account importance to a proxy account.</td>
</tr>
<tr class="row-even"><td><strong>Aggregate</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x4141</td>
<td><a class="reference internal" href="aggregate-transaction.html#id1"><span class="std std-ref">Aggregate Complete</span></a></td>
<td>Send transactions in batches to different accounts.</td>
</tr>
<tr class="row-even"><td>0x4241</td>
<td><a class="reference internal" href="aggregate-transaction.html#id1"><span class="std std-ref">Aggregate Bonded</span></a></td>
<td>Propose an arrangement of transactions between different accounts.</td>
</tr>
<tr class="row-odd"><td>–</td>
<td><a class="reference internal" href="aggregate-transaction.html#cosignature-transaction"><span class="std std-ref">Cosignature</span></a></td>
<td>Cosign an aggregate bonded transaction.</td>
</tr>
<tr class="row-even"><td><strong>Mosaic</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x414D</td>
<td><a class="reference internal" href="mosaic.html#mosaic-definition-transaction"><span class="std std-ref">Mosaic Definition</span></a></td>
<td>Register a new mosaic.</td>
</tr>
<tr class="row-even"><td>0x424D</td>
<td><a class="reference internal" href="mosaic.html#mosaic-supply-change-transaction"><span class="std std-ref">Mosaic Supply Change</span></a></td>
<td>Change an existent mosaic supply.</td>
</tr>
<tr class="row-odd"><td><strong>Namespace</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x414E</td>
<td><a class="reference internal" href="namespace.html#register-namespace-transaction"><span class="std std-ref">Register Namespace</span></a></td>
<td>Register namespaces to organize your assets.</td>
</tr>
<tr class="row-odd"><td>0x424E</td>
<td><a class="reference internal" href="namespace.html#address-alias-transaction"><span class="std std-ref">Address Alias</span></a></td>
<td>Attach a namespace name to an account.</td>
</tr>
<tr class="row-even"><td>0x434E</td>
<td><a class="reference internal" href="namespace.html#mosaic-alias-transaction"><span class="std std-ref">Mosaic Alias</span></a></td>
<td>Attach a namespace name to a mosaic.</td>
</tr>
<tr class="row-odd"><td><strong>Metadata</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4144</td>
<td><a class="reference internal" href="metadata.html#account-metadata-transaction"><span class="std std-ref">Account Metadata Transaction</span></a></td>
<td>Associate a key-value state to an account.</td>
</tr>
<tr class="row-odd"><td>0x4144</td>
<td><a class="reference internal" href="metadata.html#mosaic-metadata-transaction"><span class="std std-ref">Mosaic Metadata Transaction</span></a></td>
<td>Associate a key-value state to a mosaic.</td>
</tr>
<tr class="row-even"><td>0x4144</td>
<td><a class="reference internal" href="metadata.html#namespace-metadata-transaction"><span class="std std-ref">Namespace Metadata Transaction</span></a></td>
<td>Associate a key-value state to a namespace.</td>
</tr>
<tr class="row-odd"><td><strong>Multisignature</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4155</td>
<td><a class="reference internal" href="multisig-account.html#modify-multisig-account-transaction"><span class="std std-ref">Modify Multisig Account</span></a></td>
<td>Create or modify a multisig contract.</td>
</tr>
<tr class="row-odd"><td><strong>Hash Lock</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4148</td>
<td><a class="reference internal" href="aggregate-transaction.html#hash-lock-transaction"><span class="std std-ref">Hash Lock</span></a></td>
<td>Lock a deposit needed to announce aggregate bonded transactions.</td>
</tr>
<tr class="row-odd"><td><strong>Secret Lock</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4152</td>
<td><a class="reference internal" href="cross-chain-swaps.html#secret-lock-transaction"><span class="std std-ref">Secret Lock</span></a></td>
<td>Start a token swap between different chains.</td>
</tr>
<tr class="row-odd"><td>0x4252</td>
<td><a class="reference internal" href="cross-chain-swaps.html#secret-proof-transaction"><span class="std std-ref">Secret Proof</span></a></td>
<td>Conclude a token swap between different chains.</td>
</tr>
<tr class="row-even"><td><strong>Account restriction</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x4150</td>
<td><a class="reference internal" href="account-restriction.html#account-address-restriction-transaction"><span class="std std-ref">Account Restriction Address</span></a></td>
<td>Allow or block incoming and outgoing transactions for a given a set of addresses.</td>
</tr>
<tr class="row-even"><td>0x4250</td>
<td><a class="reference internal" href="account-restriction.html#account-mosaic-restriction-transaction"><span class="std std-ref">Account Restriction Mosaic</span></a></td>
<td>Allow or block incoming transactions containing a given set of mosaics.</td>
</tr>
<tr class="row-odd"><td>0x4350</td>
<td><a class="reference internal" href="account-restriction.html#account-operation-restriction-transaction"><span class="std std-ref">Account Restriction Entity Type</span></a></td>
<td>Allow or block outgoing transactions by transaction type.</td>
</tr>
<tr class="row-even"><td><strong>Mosaic restriction</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>0x4151</td>
<td><a class="reference internal" href="mosaic-restriction.html#mosaic-global-restriction-transaction"><span class="std std-ref">Mosaic Restriction Global</span></a></td>
<td>Set a global restriction to a mosaic.</td>
</tr>
<tr class="row-even"><td>0x4251</td>
<td><a class="reference internal" href="mosaic-restriction.html#mosaic-address-restriction-transaction"><span class="std std-ref">Mosaic Restriction Address</span></a></td>
<td>Set a mosaic restriction to an specific address.</td>
</tr>
<tr class="row-odd"><td><strong>Transfer</strong></td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>0x4154</td>
<td><a class="reference internal" href="transfer-transaction.html#id1"><span class="std std-ref">Transfer</span></a></td>
<td>Send mosaics and messages between two accounts.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="defining-a-transaction">
<span id="transaction-definition"></span><h2>Defining a transaction<a class="headerlink" href="#defining-a-transaction" title="Permalink to this headline">¶</a></h2>
<p>Transactions are defined in a <a class="reference external" href="https://github.com/nemtech/catbuffer">serialized</a> form. Each transaction extends from the <a class="reference internal" href="#id4"><span class="std std-ref">transaction schema definition</span></a>, combining the type’s particular properties. You can find the description of the additional properties under the <a class="reference internal" href="transfer-transaction.html#id1"><span class="std std-ref">“Schema” section</span></a>, at the end of each built-in feature description.</p>
<p>We recommend <a class="reference external" href="https://github.com/nemtech/nem2-docs/blob/master/source/resources/examples/typescript/transaction/SendingATransferTransaction.ts#L30">using the NEM2-SDK to define</a> transactions.</p>
<div class="highlight-typescript"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span>
    <span class="nx">Address</span><span class="p">,</span>
    <span class="nx">Deadline</span><span class="p">,</span>
    <span class="nx">NetworkCurrencyMosaic</span><span class="p">,</span>
    <span class="nx">NetworkType</span><span class="p">,</span>
    <span class="nx">PlainMessage</span><span class="p">,</span>
    <span class="nx">TransferTransaction</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;nem2-sdk&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">recipientAddress</span> <span class="o">=</span> <span class="nx">Address</span>
    <span class="p">.</span><span class="nx">createFromRawAddress</span><span class="p">(</span><span class="s1">&#39;SD5DT3-CH4BLA-BL5HIM-EKP2TA-PUKF4N-Y3L5HR-IR54&#39;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">transferTransaction</span> <span class="o">=</span> <span class="nx">TransferTransaction</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span>
    <span class="nx">Deadline</span><span class="p">.</span><span class="nx">create</span><span class="p">(),</span>
    <span class="nx">recipientAddress</span><span class="p">,</span>
    <span class="p">[</span><span class="nx">NetworkCurrencyMosaic</span><span class="p">.</span><span class="nx">createRelative</span><span class="p">(</span><span class="mi">10</span><span class="p">)],</span>
    <span class="nx">PlainMessage</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;Welcome To NEM&#39;</span><span class="p">),</span>
    <span class="nx">NetworkType</span><span class="p">.</span><span class="nx">MIJIN_TEST</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">transferTransaction</span><span class="p">.</span><span class="nx">serialize</span><span class="p">());</span>

<span class="cm">/* Outputs:</span>
<span class="cm">B3000000000000000000000000000000000000000000000</span>
<span class="cm">00000000000000000000000000000000000000000000000</span>
<span class="cm">00000000000000000000000000000000000000000000000</span>
<span class="cm">00000000000000000000000000000000000000000000000</span>
<span class="cm">000000000000039054410000000000000000B986E63F170</span>
<span class="cm">0000090FA39EC47E05600AFA74308A7EA607D145E371B5F</span>
<span class="cm">4F1447BC0F00010057656C636F6D6520546F204E454D44B</span>
<span class="cm">262C46CEABB858096980000000000</span>
<span class="cm">*/</span>
</pre></div>
</div>
<div class="section" id="fees">
<span id="id2"></span><h3>Fees<a class="headerlink" href="#fees" title="Permalink to this headline">¶</a></h3>
<p>Transactions have an associated cost. This cost is necessary to provide an incentive for the <a class="reference internal" href="harvesting.html"><span class="doc">harvesters</span></a> who secure the network and run the infrastructure.</p>
<p>The fee associated with a transaction primarily depends on the transaction’s size. The effective fee is the product of the size of the transaction, and a fee multiplier set by the harvester. The node owner can configure the latter value to all positive values, including zero.</p>
<blockquote>
<div>effective_fee = transaction::size * block::fee_multiplier</div></blockquote>
<p>A sender of a transaction must specify during the transaction definition a <code class="docutils literal"><span class="pre">max_fee</span></code>, meaning the maximum fee the account allows to spend for this transaction.</p>
<p>If the <code class="docutils literal"><span class="pre">effective_fee</span></code> is smaller or equal to the <code class="docutils literal"><span class="pre">max_fee</span></code>, the harvester can opt to include the transaction in the block. The <code class="docutils literal"><span class="pre">fee_multiplier</span></code> is stored in the <a class="reference internal" href="block.html#block-header"><span class="std std-ref">block header</span></a>, permitting to resolve which was the effective fee paid for every transaction included.</p>
<p>The harvesting nodes can decide their transaction inclusion strategy:</p>
<ul class="simple">
<li><strong>Prefer-oldest</strong>: Preferred for networks with high transaction throughput requirements. Include first the oldest transactions.</li>
<li><strong>Minimize-fees</strong>: Philanthropic nodes. Include first transactions that other nodes do not want to include.</li>
<li><strong>Maximize-fees</strong>: Most common in public networks. Include first transactions with higher fees.</li>
</ul>
<p>By default, the fee is paid in <code class="docutils literal"><span class="pre">cat.currency</span></code>, the underlying currency of the NEM network. Private chains can edit the configuration of the network to eliminate fees, or use another <a class="reference internal" href="mosaic.html"><span class="doc">mosaic</span></a> that better suits their needs.</p>
</div>
</div>
<div class="section" id="signing-a-transaction">
<span id="transaction-signature"></span><h2>Signing a transaction<a class="headerlink" href="#signing-a-transaction" title="Permalink to this headline">¶</a></h2>
<p>Accounts must sign transactions before announcing them to the network. <a class="reference external" href="https://github.com/nemtech/nem2-docs/blob/master/source/resources/examples/typescript/transaction/SendingATransferTransaction.ts#L40">Signing a transaction</a> expresses the account’s agreement to change the network state as defined.</p>
<p>For example, a transfer transaction describes who is the recipient and the quantity of mosaics to transfer. In this case, signing the transaction means to accept moving those mosaics from one account’s balance to another.</p>
<p>An account has to follow the next steps to <a class="reference external" href="https://github.com/nemtech/nem2-library-js/blob/f171afb516a282f698081aea407339cfcd21cd63/src/transactions/VerifiableTransaction.js#L64">sign a transaction</a> :</p>
<ol class="arabic simple">
<li>Get the <code class="docutils literal"><span class="pre">signing</span> <span class="pre">bytes</span></code>, which are all the bytes of the transaction except the size, signature and signer.</li>
<li>Get the nemesis block generation hash. You can query <code class="docutils literal"><span class="pre">http://localhost:3000/block/1</span></code> and copy <code class="docutils literal"><span class="pre">meta.generationHash</span></code> value.</li>
<li>Prepend the nemesis block generation hash to the signing bytes.</li>
<li>Sign the resulting string with the signer’s private key. This will give you the transaction <code class="docutils literal"><span class="pre">signature</span></code>.</li>
<li>Append the signer’s signature and public key to the transaction to obtain the <code class="docutils literal"><span class="pre">payload</span></code>.</li>
<li>Calculate the <a class="reference external" href="https://github.com/nemtech/nem2-library-js/blob/f171afb516a282f698081aea407339cfcd21cd63/src/transactions/VerifiableTransaction.js#L76">hash of the transaction</a> applying the network hashing algorithm to the first 32 bytes of signature, the signer public key, nemesis block generation hash, and the remaining transaction payload.</li>
</ol>
<div class="highlight-typescript"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">Account</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;nem2-sdk&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">privateKey</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PRIVATE_KEY</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">generationHash</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">GENERATION_HASH</span> <span class="kr">as</span> <span class="kt">string</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">account</span> <span class="o">=</span> <span class="nx">Account</span><span class="p">.</span><span class="nx">createFromPrivateKey</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">,</span><span class="nx">NetworkType</span><span class="p">.</span><span class="nx">MIJIN_TEST</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">signedTransaction</span> <span class="o">=</span> <span class="nx">account</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">transferTransaction</span><span class="p">,</span> <span class="nx">generationHash</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">signedTransaction</span><span class="p">.</span><span class="nx">payload</span><span class="p">);</span>

<span class="cm">/* Outputs:</span>
<span class="cm">B3000000F77A8DCFCB57B81F9BE5B46738F7132998F5512</span>
<span class="cm">3BFF4D89DC8E5CAE1F071A040E5571F4D8DA125B243C785</span>
<span class="cm">DA5261F878E3DE898815F6E8F12A2C0A5F0A9C3504FA624</span>
<span class="cm">9E8334E3F83E972461125504AFFD3E7750AFBB3371E7B2D</span>
<span class="cm">22A599A3D0E3039054410000000000000000265DEE3F170</span>
<span class="cm">0000090FA39EC47E05600AFA74308A7EA607D145E371B5F</span>
<span class="cm">4F1447BC0F00010057656C636F6D6520546F204E454D44B</span>
<span class="cm">262C46CEABB858096980000000000</span>
<span class="cm"> */</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">signedTransaction</span><span class="p">.</span><span class="nx">hash</span><span class="p">);</span>

<span class="cm">/* Outputs:</span>
<span class="cm">21C4D9583CE1887BE7187D4B65B67567B45D5E6114AEE155C0CD266B6AA6A302</span>
<span class="cm"> */</span>
</pre></div>
</div>
</div>
<div class="section" id="announcing-a-transaction">
<span id="transaction-validation"></span><h2>Announcing a transaction<a class="headerlink" href="#announcing-a-transaction" title="Permalink to this headline">¶</a></h2>
<p>Signed transactions are ready to be announced to the network. You can either use the SDK <code class="docutils literal"><span class="pre">TransactionHttp</span></code> service or append the payload to the request of the <a class="reference external" href="https://nemtech.github.io/endpoints.html#operation/announceTransaction">transaction endpoint</a>.</p>
<div class="example-code container">
<div class="highlight-typescript"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span><span class="nx">TransactionHttp</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;nem2-sdk&quot;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">transactionHttp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TransactionHttp</span><span class="p">(</span><span class="s1">&#39;http://localhost:3000&#39;</span><span class="p">);</span>

<span class="nx">transactionHttp</span>
    <span class="p">.</span><span class="nx">announce</span><span class="p">(</span><span class="nx">signedTransaction</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span> <span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">));</span>
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl -X PUT -H <span class="s2">&quot;Content-type: application/json&quot;</span> -d <span class="s1">&#39;{&quot;payload&quot;:&quot;B3000000F77A8DCFCB57B81F9BE5B46738F7132998F55123BFF4D89DC8E5CAE1F071A040E5571F4D8DA125B243C785DA5261F878E3DE898815F6E8F12A2C0A5F0A9C3504FA6249E8334E3F83E972461125504AFFD3E7750AFBB3371E7B2D22A599A3D0E3039054410000000000000000265DEE3F1700000090FA39EC47E05600AFA74308A7EA607D145E371B5F4F1447BC0F00010057656C636F6D6520546F204E454D44B262C46CEABB858096980000000000&quot;}&#39;</span> http://localhost:3000/transaction
</pre></div>
</div>
</div>
<p>After announcing the transaction, the REST API will always return an OK response immediately. At this point, it is still unknown whether the transaction is valid.</p>
<div class="figure align-center" id="id6">
<img alt="../_images/transaction-cycle.png" src="../_images/transaction-cycle.png" style="width: 800px;" />
<p class="caption"><span class="caption-text">Transaction cycle</span></p>
</div>
<p>The first stage of validation happens in the API nodes. If the transaction presents some error, the WebSocket throws a notification through the status channel. In the positive case, the transaction reaches the P2P network with an <strong>unconfirmed</strong> status.  Never rely on a transaction which has an unconfirmed state. It is not clear if it will get included in a block, as it should pass a second validation.</p>
<p>The second validation is done before the transaction is added in a harvested block. If valid, the harvester stores the transaction in a block, and it reaches the <strong>confirmed</strong> status.</p>
<p>Continuing the previous example, the transaction gets processed and the amount stated gets transferred from the signer’s account to the recipient’s account. Additionally, the transaction fee is deducted from the signer’s account.</p>
<p>The transaction has <strong>zero confirmations</strong> at this point. When another block is added to the blockchain, the transaction has one confirmation. The next block added to the chain will give it two confirmations and so on.</p>
</div>
<div class="section" id="rollbacks">
<h2>Rollbacks<a class="headerlink" href="#rollbacks" title="Permalink to this headline">¶</a></h2>
<p>Blockchains are designed in a way that under certain circumstances recent blocks need to be rolled back. These are essential to resolve forks of the blockchain.</p>
<p>The <a class="reference external" href="https://github.com/nemtech/catapult-server/blob/master/resources/config-network.properties">rewrite limit</a> is the maximum number of blocks that can be rolled back. Hence, forks can only be resolved up to a certain depth too.</p>
<p>NEM has a rewrite limit of <code class="docutils literal"><span class="pre">40</span></code> blocks. Once a transaction has more than 40 confirmations, it cannot be reversed.</p>
</div>
<div class="section" id="guides">
<h2>Guides<a class="headerlink" href="#guides" title="Permalink to this headline">¶</a></h2>
<ul class="postlist-style-circle postlist">
<li><p class="first"><a class="reference internal" href="../guides/transaction/turning-the-asynchronous-transaction-announcement-into-synchronous.html">Turning the asynchronous transaction announcement into synchronous</a></p>
<p>Turn asynchronous transaction announcement into synchronous with <a href="https://github.com/nemtech/nem2-camel" target="_blank">nem2-camel</a>.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/transaction/monitoring-a-transaction-status.html">Monitoring a transaction status</a></p>
<p>Make sure a <a class="reference internal" href="#"><span class="doc">transaction</span></a> gets included in the blockchain after being announced.</p>
</li>
</ul>
</div>
<div class="section" id="schemas">
<h2>Schemas<a class="headerlink" href="#schemas" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<span id="id5"></span><h3>Transaction<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Serialization of a transaction.</p>
<p><strong>Inlines</strong>:</p>
<ul class="simple">
<li><a class="reference internal" href="#size-prefixed-entity"><span class="std std-ref">SizePrefixedEntity</span></a></li>
<li><a class="reference internal" href="block.html#verifiable-entity"><span class="std std-ref">VerifiableEntity</span></a></li>
<li><a class="reference internal" href="block.html#entity-body"><span class="std std-ref">EntityBody</span></a></li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>max_fee</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/tree/master/schemas/types.cats#L1">Amount</a></td>
<td>Maximum fee allowed to spend for the transaction.</td>
</tr>
<tr class="row-odd"><td>deadline</td>
<td><a class="reference external" href="https://github.com/nemtech/catbuffer/tree/master/schemas/types.cats#L5">Timestamp</a></td>
<td>Number of seconds elapsed since the creation of the nemesis block. If a transaction does not get included in a block before the deadline is reached, it is deleted. Deadlines are only allowed to lie up to <code class="docutils literal"><span class="pre">24</span></code> hours ahead.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="embeddedtransaction">
<span id="embedded-transaction"></span><h3>EmbeddedTransaction<a class="headerlink" href="#embeddedtransaction" title="Permalink to this headline">¶</a></h3>
<p>Serialization of an <a class="reference internal" href="aggregate-transaction.html"><span class="doc">aggregate</span></a> inner transaction.</p>
<p><strong>Inlines</strong>:</p>
<ul class="simple">
<li><a class="reference internal" href="#size-prefixed-entity"><span class="std std-ref">SizePrefixedEntity</span></a></li>
<li><a class="reference internal" href="block.html#entity-body"><span class="std std-ref">EntityBody</span></a></li>
</ul>
</div>
<div class="section" id="sizeprefixedentity">
<span id="size-prefixed-entity"></span><h3>SizePrefixedEntity<a class="headerlink" href="#sizeprefixedentity" title="Permalink to this headline">¶</a></h3>
<p>Serialization of an entity that has a prefixed size.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>size</td>
<td>unit32</td>
<td>Size of the transaction.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

  <div class="section">
  
  
  </div>

            
            <p class="feedback top-gap">
                <b>Did you find what you were looking for?</b>
                <a href="https://github.com/nemtech/nem2-docs/issues/new/choose" target="_blank">Give us your feedback.</a>
            </p>
            
        </div>
         

<div class="col-md-2">
    <div class="bs-sidenav secondary" role="complementary">
        <ul>
<li><a class="reference internal" href="#">Transaction</a><ul>
<li><a class="reference internal" href="#transaction-types">Transaction types</a></li>
<li><a class="reference internal" href="#defining-a-transaction">Defining a transaction</a><ul>
<li><a class="reference internal" href="#fees">Fees</a></li>
</ul>
</li>
<li><a class="reference internal" href="#signing-a-transaction">Signing a transaction</a></li>
<li><a class="reference internal" href="#announcing-a-transaction">Announcing a transaction</a></li>
<li><a class="reference internal" href="#rollbacks">Rollbacks</a></li>
<li><a class="reference internal" href="#guides">Guides</a></li>
<li><a class="reference internal" href="#schemas">Schemas</a><ul>
<li><a class="reference internal" href="#id4">Transaction</a></li>
<li><a class="reference internal" href="#embeddedtransaction">EmbeddedTransaction</a></li>
<li><a class="reference internal" href="#sizeprefixedentity">SizePrefixedEntity</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</div>

 
    </div>
</div>

<footer class="footer">
    <div class="container">

        <div class="row">

            <div class="col-sm-4">
                <h4>Learn</h4>
                <ul>
                    <li>
                        <a href="../getting-started/what-is-nem.html">Getting Started</a>
                    </li>
                    <li>
                        <a href="account.html">Built-in Features</a>
                    </li>
                    <li>
                        <a href="cryptography.html">Protocol</a>
                    </li>
                    <li>
                        <a href="../guides/category.html">Guides</a>
                    </li>
                    <li>
                        <a href="../api.html">References</a>
                    </li>
                    <li>
                        <a href="../contribute/contributing.html">Contribute</a>
                    </li>
                </ul>
            </div>

            <div class="col-sm-4">
                <h4>References</h4>
                <ul>
                    <li><a href="../api.html">REST API</a></li>
                    <li><a href="../server.html">Server</a></li>
                    <li><a href="../sdk.html">SDKs</a></li>
                    <li><a href="../cli.html">Client</a></li>
                    <li><a href="../extensions.html">Extensions</a></li>
                </ul>
            </div>


            <div class="col-sm-4">
                <h4>Community</h4>
                <ul>
                    <li>
                        <a href="http://slack.nemtech.io/">
                            <i class="fab fa-slack"></i> <span> Join #general discussion</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://stackoverflow.com/tags/nem/">
                            <i class="fab fa-stack-overflow"></i>
                            <span> Ask development questions</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://twitter.com/NEMofficial">
                            <i class="fab fa-twitter"></i>
                            <span> Follow the updates</span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/nemtech">
                            <i class="fab fa-github"></i>
                            <span> Explore our Github</span>
                        </a>
                    </li>
                </ul>
            </div>

        </div>

        <p class="text-center top-gap">
            
            
            &copy; Copyright 2018-2019, NEM.
            
            
            
        </p>
    </div>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '#search',
        debug: false
    });
</script>

  </body>
</html>