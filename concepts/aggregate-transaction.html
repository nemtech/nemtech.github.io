
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Aggregate Transaction &#8212; Symbol Documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700&display=swap" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/examplecode.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'Main',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/custom.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/examplecode.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Block" href="block.html" />
    <link rel="prev" title="Account Restriction" href="account-restriction.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=5'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174021413-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-174021413-2');
</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../guides/atom.xml" title="Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body>

<div class="navbar navbar-default gradient navbar-fixed-top"
     id="navbar">
    <div class="container navbar-top hidden-xs hidden-sm">
        <div class="row">
            <div class="col-lg-8 col-md-7">
                <div id="language">
    <label class="select">
        <select>
            <option id="english" value="en">EN</option>
            <option id="japanese" value="ja">JA</option>
            <!--<option id="chinese" value="zh_CN">中文</option>-->
            <option id="translate" value="translate">Translate</option>
        </select>
    </label>
</div>
            </div>
            <div class="col-lg-4 col-md-5">
                
                <div id="search-box">
    <input class="search search-desktop form-control" placeholder="Search"/>
</div>
                
                <ul id="social" class="list-inline">
    <li>
        <a href="https://twitter.com/NEMofficial" rel="nofollow"><i class="fab fa-twitter" title="Twitter"></i></a>
    </li>
    <li>
        <a href="https://discord.com/invite/xymcity" rel="nofollow" title="Discord"><i class="fab fa-discord"></i></a>
    </li>
    <li>
        <a href="https://github.com/symbol/" rel="nofollow" title="GitHub"><i class="fab fa-github"></i></a>
    </li>
</ul>
            </div>
        </div>
    </div>
    <hr/>
    <div class="container navbar-main">
        <div class="row">
            <div class="navbar-header col-lg-6 col-md-4 col-xs-6">
                <a class="navbar-brand" href="../index.html">
                    
                    <span><img alt="NEM logo" src="../_static/logo-symbol.svg"></span>
                    
                </a>
            </div>
            <div class="navbar-right col-lg-6 col-md-8 hidden-xs hidden-sm">
                <ul class="list-inline">
    <li>
        <a href="/getting-started/what-is-symbol.html" class="">Getting Started</a>
    </li>
    <li>
        <a href="/concepts/overview.html" class="active">Features</a>
    </li>
    <li>
        <a href="/guides/category.html" class="">Guides</a>
    </li>
    <li>
        <a href="/references/overview.html" class="">Tools</a>
    </li>
    <li>
        <a href="/contribute/community.html" class="">Help</a>
    </li>
</ul>
            </div>
            <div class="navbar-right col-xs-6 hidden-lg hidden-md">
                
                <div id="search-box">
    <input class="search search-mobile form-control" placeholder="Search"/>
</div>
                

            </div>
        </div>
        <div class="row">
            <div class="col-md-12 sidebar-xs visible-xs visible-sm">
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Navigation <b
                            class="caret"></b></a>
                    <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Aggregate Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="consensus-algorithm.html">Consensus</a></li>
<li class="toctree-l2"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-validation.html">Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l2"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l2"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin.html">Extending Symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l2"><a class="reference internal" href="reward-programs.html">Reward Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction.html">Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributing</a></li>
</ul>
</ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        
        

<div class="col-md-3">
    <div id="sidebar" class="bs-sidenav" role="complementary">
        
        <div class="sidebar-md hidden-xs hidden-sm">
    <h4>Navigation</h4>
    <hr />
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Concepts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="account-restriction.html">Account Restriction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Aggregate Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="block.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="consensus-algorithm.html">Consensus</a></li>
<li class="toctree-l2"><a class="reference internal" href="cross-chain-swaps.html">Cross-Chain Swaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="cryptography.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-validation.html">Data Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l2"><a class="reference internal" href="harvesting.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="inflation.html">Inflation</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic.html">Mosaic</a></li>
<li class="toctree-l2"><a class="reference internal" href="mosaic-restriction.html">Mosaic Restriction</a></li>
<li class="toctree-l2"><a class="reference internal" href="multisig-account.html">Multisig Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespace.html">Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="node.html">Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin.html">Extending Symbol</a></li>
<li class="toctree-l2"><a class="reference internal" href="receipt.html">Receipt</a></li>
<li class="toctree-l2"><a class="reference internal" href="reward-programs.html">Reward Programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="transaction.html">Transaction</a></li>
<li class="toctree-l2"><a class="reference internal" href="transfer-transaction.html">Transfer Transaction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contributing</a></li>
</ul>

</div>
        
    </div>
</div>


        
        <div class="col-md-7 content">
            
  <div class="section" id="aggregate-transaction">
<h1>Aggregate Transaction<a class="headerlink" href="#aggregate-transaction" title="Permalink to this headline">¶</a></h1>
<p id="id1">Aggregate transactions merge multiple transactions into one, allowing <strong>trustless swaps</strong>, and other advanced logic.
Symbol does this by generating a one-time disposable smart contract.</p>
<div class="figure align-center" id="id4">
<img alt="../_images/aggregate-escrow-1.png" src="../_images/aggregate-escrow-1.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Example of an AggregateTransaction between two participants</span></p>
</div>
<p>When all involved <a class="reference internal" href="account.html"><span class="doc">accounts</span></a> have cosigned the AggregateTransaction, all the inner transactions are executed at the same time.</p>
<p>Symbol’s <a class="reference internal" href="../guides/network/configuring-network-properties.html#config-network-properties"><span class="std std-ref">public network</span></a> supports aggregate transaction containing up to <code class="docutils literal"><span class="pre">1,000</span></code> inner transactions involving up to <code class="docutils literal"><span class="pre">25</span></code> different cosignatories.
Other aggregate transactions are not allowed as inner transactions.</p>
<div class="section" id="aggregate-complete">
<span id="id2"></span><h2>Aggregate complete<a class="headerlink" href="#aggregate-complete" title="Permalink to this headline">¶</a></h2>
<p>An AggregateTransaction is  <strong>complete</strong> when all the required participants have signed it.</p>
<p>The cosigners can sign the transaction without using the blockchain.
Once it has all the required signatures, one of them can announce it to the network.
If the inner transaction setup is valid, and there is no validation error, the transactions will get executed at the same time.</p>
<p>Aggregate complete transactions enable adding more transactions per block by gathering multiple inner transactions.</p>
</div>
<div class="section" id="aggregate-bonded">
<span id="id3"></span><h2>Aggregate bonded<a class="headerlink" href="#aggregate-bonded" title="Permalink to this headline">¶</a></h2>
<p>An AggregateTransaction is <strong>bonded</strong> when it requires signatures from other participants.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Before announcing an <strong>AggregateBondedTransaction</strong>, an account must announce and get confirmed a <a class="reference internal" href="../serialization/lock_hash.html#hash-lock-transaction"><span class="std std-ref">HashLockTransaction</span></a> locking <code class="docutils literal"><span class="pre">10</span></code> <code class="docutils literal"><span class="pre">symbol.xym</span></code>.</p>
</div>
<p>Once an aggregate bonded is announced, it reaches partial state—where it can live up to <code class="docutils literal"><span class="pre">2</span> <span class="pre">days</span></code>—and notifies its status through WebSockets or HTTP API calls.</p>
<p>Every time a cosignatory signs the transaction and announces an aggregate bonded <a class="reference internal" href="../serialization/aggregate.html#id2"><span class="std std-ref">cosignature</span></a>, the network checks if all the required cosigners have signed.
When all signatures are acquired, the transaction changes to unconfirmed state until the network includes it in a block.</p>
<div class="figure align-center" id="id5">
<img alt="../_images/aggregate-bonded-transaction-cycle.png" src="../_images/aggregate-bonded-transaction-cycle.png" style="width: 900px;" />
<p class="caption"><span class="caption-text">AggregateBondedTransaction cycle</span></p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sending-multiple-transactions-together">
<h3>Sending multiple transactions together<a class="headerlink" href="#sending-multiple-transactions-together" title="Permalink to this headline">¶</a></h3>
<p>Dan announces an AggregateTransaction that merges two transfer transactions.
Alice and Bob will receive the mosaics at the same time.</p>
<div class="figure align-center" id="id6">
<img alt="../_images/aggregate-sending-payouts.png" src="../_images/aggregate-sending-payouts.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Sending payouts with aggregate complete transactions</span></p>
</div>
</div>
<div class="section" id="multi-asset-escrowed-transactions">
<h3>Multi-asset escrowed transactions<a class="headerlink" href="#multi-asset-escrowed-transactions" title="Permalink to this headline">¶</a></h3>
<p>In this example, Alice is buying tickets with <code class="docutils literal"><span class="pre">currency.euro</span></code> <a class="reference internal" href="mosaic.html"><span class="doc">mosaic</span></a>.
When the ticket distributor cosigns the AggregateTransaction, the swap will happen atomically.</p>
<div class="figure align-center" id="id7">
<img alt="../_images/aggregate-escrow-1.png" src="../_images/aggregate-escrow-1.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Multi-Asset Escrowed Transactions</span></p>
</div>
</div>
<div class="section" id="paying-for-others-fees">
<h3>Paying for others fees<a class="headerlink" href="#paying-for-others-fees" title="Permalink to this headline">¶</a></h3>
<p>Alice sends 10 <code class="docutils literal"><span class="pre">currency.euro</span></code> to Bob using an app to make payments.
However, Alice doesn’t own <code class="docutils literal"><span class="pre">symbol.xym</span></code> to pay the transaction fee.</p>
<p>By creating an AggregateBondedTransaction, Alice can convert <code class="docutils literal"><span class="pre">currency.euro</span></code> to <code class="docutils literal"><span class="pre">symbol.xym</span></code> to pay the fee.
Now, Alice and Bob can use Symbol’s public blockchain without ever having to buy or hold <code class="docutils literal"><span class="pre">symbol.xym</span></code> units.</p>
<p>Since the app creator can put its own branding on the open source payment app, Alice and Bob may not even know they are using blockchain technology.</p>
<div class="figure align-center" id="id8">
<img alt="../_images/aggregate-paying-for-others-fees.png" src="../_images/aggregate-paying-for-others-fees.png" style="width: 450px;" />
<p class="caption"><span class="caption-text">Paying for others fees</span></p>
</div>
</div>
</div>
<div class="section" id="related-transactions">
<h2>Related transactions<a class="headerlink" href="#related-transactions" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Id</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0x4141</td>
<td><a class="reference internal" href="#id1"><span class="std std-ref">AggregateCompleteTransaction</span></a></td>
<td>Send transactions in batches to different accounts.</td>
</tr>
<tr class="row-odd"><td>0x4241</td>
<td><a class="reference internal" href="#id1"><span class="std std-ref">AggregateBondedTransaction</span></a></td>
<td>Propose an arrangement of transactions between different accounts.</td>
</tr>
<tr class="row-even"><td>–</td>
<td><a class="reference internal" href="../serialization/aggregate.html#cosignature-transaction"><span class="std std-ref">CosignatureTransaction</span></a></td>
<td>Cosign an AggregateBondedTransaction.</td>
</tr>
<tr class="row-odd"><td>0x4148</td>
<td><a class="reference internal" href="../serialization/lock_hash.html#hash-lock-transaction"><span class="std std-ref">HashLockTransaction</span></a></td>
<td>Lock a deposit needed to announce aggregate bonded transactions.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="guides">
<h2>Guides<a class="headerlink" href="#guides" title="Permalink to this headline">¶</a></h2>
<ul class="postlist-style-circle postlist">
<li><p class="first"><a class="reference internal" href="../guides/aggregate/sending-multiple-transactions-together-with-aggregate-complete-transaction.html">Sending multiple transactions together</a></p>
<p>Send transactions to different accounts at the same time, using aggregate transactions.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/creating-an-escrow-contract-with-aggregate-bonded-transaction.html">Creating an escrow contract</a></p>
<p>Learn about aggregate bonded transactions creating an escrow contract.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/signing-announced-aggregate-bonded-transactions-automatically.html">Cosigning aggregate bonded transactions automatically</a></p>
<p>Create a bot to cosign automatically transactions that require your account’s signature.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/signing-announced-aggregate-bonded-transactions.html">Cosigning aggregate bonded transactions</a></p>
<p>Cosign <a class="reference internal" href="#aggregate-bonded"><span class="std std-ref">aggregate</span></a> transactions pending to be signed.</p>
</li>
<li><p class="first"><a class="reference internal" href="../guides/aggregate/adding-cosginatures-aggregate-complete.html">Adding cosignatures to aggregate complete trasactions</a></p>
<p>This guide will show you how to add cosignatures to an aggregate complete transaction without using the partial cache.</p>
</li>
</ul>
<p>Continue: <a class="reference internal" href="account-restriction.html"><span class="doc">Account Restrictions</span></a>.</p>
</div>
</div>

  <div class="section">
  
  
  </div>

            
            <p class="feedback">
                <hr/>
                Did you find what you were looking for?
                <a href="https://github.com/symbol/symbol-docs/issues/new/choose" target="_blank">Give us your feedback.</a>
            </p>
            
        </div>
         

<div class="col-md-2">
    <div class="bs-sidenav secondary" role="complementary">
    
    <div class="edit-github">
    <a href="https://github.com/symbol/symbol-docs/edit/main/source/concepts/aggregate-transaction.rst" rel="nofollow"> <i class="fab fa-github"></i> Improve this page</a>
</div>
    <span class="title">On this page</span>
    <ul>
<li><a class="reference internal" href="#">Aggregate Transaction</a><ul>
<li><a class="reference internal" href="#aggregate-complete">Aggregate complete</a></li>
<li><a class="reference internal" href="#aggregate-bonded">Aggregate bonded</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#sending-multiple-transactions-together">Sending multiple transactions together</a></li>
<li><a class="reference internal" href="#multi-asset-escrowed-transactions">Multi-asset escrowed transactions</a></li>
<li><a class="reference internal" href="#paying-for-others-fees">Paying for others fees</a></li>
</ul>
</li>
<li><a class="reference internal" href="#related-transactions">Related transactions</a></li>
<li><a class="reference internal" href="#guides">Guides</a></li>
</ul>
</li>
</ul>

    
    </div>
</div>

 
    </div>
</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-desktop',
        debug: false
    });

    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-mobile',
        debug: false
    });
</script>

  </body>
</html>