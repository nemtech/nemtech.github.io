
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>REST API Troubleshooting Guide for Exchanges &#8212; Symbol Documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700&display=swap" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/examplecode.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     'Main',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/custom.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/examplecode.js"></script>
    <script type="text/javascript" src="https://unpkg.com/mermaid@7.1.0/dist/mermaid.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Concepts" href="../../concepts/overview.html" />
    <link rel="prev" title="Integrating with an Exchange" href="exchange-integration.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=5'>
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-174021413-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-174021413-2');
</script>

  
  <link rel="alternate" type="application/atom+xml"  href="../../guides/atom.xml" title="Blog">
  
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head>
  <body>

<div class="navbar navbar-default gradient navbar-fixed-top"
     id="navbar">
    <div class="container navbar-top hidden-xs hidden-sm">
        <div class="row">
            <div class="col-lg-8 col-md-7">
                <div id="language">
    <label class="select">
        <select>
            <option id="english" value="en">EN</option>
            <option id="japanese" value="ja">JA</option>
            <!--<option id="chinese" value="zh_CN">中文</option>-->
            <option id="translate" value="translate">Translate</option>
        </select>
    </label>
</div>
            </div>
            <div class="col-lg-4 col-md-5">
                
                <div id="search-box">
    <input class="search search-desktop form-control" placeholder="Search"/>
</div>
                
                <ul id="social" class="list-inline">
    <li>
        <a href="https://twitter.com/NEMofficial" rel="nofollow"><i class="fab fa-twitter" title="Twitter"></i></a>
    </li>
    <li>
        <a href="https://discord.com/invite/xymcity" rel="nofollow" title="Discord"><i class="fab fa-discord"></i></a>
    </li>
    <li>
        <a href="https://github.com/symbol/" rel="nofollow" title="GitHub"><i class="fab fa-github"></i></a>
    </li>
</ul>
            </div>
        </div>
    </div>
    <hr/>
    <div class="container navbar-main">
        <div class="row">
            <div class="navbar-header col-lg-6 col-md-4 col-xs-6">
                <a class="navbar-brand" href="../../index.html">
                    
                    <span><img alt="NEM logo" src="../../_static/logo-symbol.svg"></span>
                    
                </a>
            </div>
            <div class="navbar-right col-lg-6 col-md-8 hidden-xs hidden-sm">
                <ul class="list-inline">
    <li>
        <a href="/getting-started/what-is-symbol.html" class="">Getting Started</a>
    </li>
    <li>
        <a href="/concepts/overview.html" class="">Features</a>
    </li>
    <li>
        <a href="/guides/category.html" class="active">Guides</a>
    </li>
    <li>
        <a href="/references/overview.html" class="">Tools</a>
    </li>
    <li>
        <a href="/contribute/community.html" class="">Help</a>
    </li>
</ul>
            </div>
            <div class="navbar-right col-xs-6 hidden-lg hidden-md">
                
                <div id="search-box">
    <input class="search search-mobile form-control" placeholder="Search"/>
</div>
                

            </div>
        </div>
        <div class="row">
            <div class="col-md-12 sidebar-xs visible-xs visible-sm">
                <div class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Navigation <b
                            class="caret"></b></a>
                    <ul class="dropdown-menu globaltoc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../account/index.html">Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aggregate/index.html">Aggregate transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blockchain/index.html">Blockchain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../harvesting/index.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metadata/index.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migration/index.html">Migration from NIS1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitor/index.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mosaic/index.html">Mosaics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisig/index.html">Multisignature accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../namespace/index.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restriction/index.html">Mosaic restrictions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../secretlock/index.html">SecretLock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transfer/index.html">Transfers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Exchanges</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="exchange-integration.html">Integrating with an Exchange</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">REST API Troubleshooting Guide for Exchanges</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/overview.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributing</a></li>
</ul>
</ul>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        
        

<div class="col-md-3">
    <div id="sidebar" class="bs-sidenav" role="complementary">
        
        <div class="sidebar-md hidden-xs hidden-sm">
    <h4>Navigation</h4>
    <hr />
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../account/index.html">Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aggregate/index.html">Aggregate transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blockchain/index.html">Blockchain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../harvesting/index.html">Harvesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metadata/index.html">Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../migration/index.html">Migration from NIS1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitor/index.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mosaic/index.html">Mosaics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisig/index.html">Multisignature accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../namespace/index.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restriction/index.html">Mosaic restrictions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../secretlock/index.html">SecretLock</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transfer/index.html">Transfers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Exchanges</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="exchange-integration.html">Integrating with an Exchange</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">REST API Troubleshooting Guide for Exchanges</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/overview.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributing</a></li>
</ul>

</div>
        
    </div>
</div>


        
        <div class="col-md-7 content">
            
  <div class="section" id="rest-api-troubleshooting-guide-for-exchanges">
<h1>REST API Troubleshooting Guide for Exchanges<a class="headerlink" href="#rest-api-troubleshooting-guide-for-exchanges" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="exchange-integration.html"><span class="doc">Integrating with an Exchange</span></a> guide explains how to integrate the <code class="docutils literal"><span class="pre">XYM</span></code> token into an Exchange platform using the <a class="reference internal" href="../../sdk.html"><span class="doc">available SDKs</span></a>. It is also possible to perform this integration using the <a class="reference internal" href="../../api.html"><span class="doc">REST API</span></a> but the procedure is significantly <strong>more complicated</strong>.</p>
<p>This page does not aim at repeating the content of the <a class="reference internal" href="exchange-integration.html"><span class="doc">Integrating with an Exchange</span></a> guide using REST, instead, it shows how to fix <strong>the most common problems</strong> encountered when using this API in the development of an Exchange.</p>
<p>Feel free to jump directly to the section of your interest.</p>
<div class="contents local topic" id="topics">
<p class="topic-title first">Topics</p>
<ul class="simple">
<li><a class="reference internal" href="#receiving-transactions" id="id3">Receiving transactions</a><ul>
<li><a class="reference internal" href="#filtering-by-block-height-and-more" id="id4">Filtering (by block height and more)</a></li>
<li><a class="reference internal" href="#parsing-of-embedded-transactions" id="id5">Parsing of embedded transactions</a></li>
<li><a class="reference internal" href="#alias-resolution" id="id6">Alias resolution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sending-transactions" id="id7">Sending transactions</a><ul>
<li><a class="reference internal" href="#transaction-deadline" id="id8">Transaction deadline</a></li>
<li><a class="reference internal" href="#transaction-fee" id="id9">Transaction fee</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="receiving-transactions">
<h2><a class="toc-backref" href="#id3">Receiving transactions</a><a class="headerlink" href="#receiving-transactions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="filtering-by-block-height-and-more">
<h3><a class="toc-backref" href="#id4">Filtering (by block height and more)</a><a class="headerlink" href="#filtering-by-block-height-and-more" title="Permalink to this headline">¶</a></h3>
<p>Use the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/searchConfirmedTransactions">/transactions/confirmed</a> endpoint to retrieve any group of confirmed transactions. Among other filtering options, the following parameters are typically useful for narrowing down searches:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Type</th>
<th class="head">Effect</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">type</span></code></td>
<td>integer</td>
<td>Retrieve only transactions of this type. The code for <a class="reference internal" href="../../serialization/transfer.html#transfer-transaction"><span class="std std-ref">Transfer Transactions</span></a> is 16724 (0x4154).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">recipientAddress</span></code></td>
<td>string</td>
<td><p class="first">The address <strong>receiving</strong> the transaction. Compare with <code class="docutils literal"><span class="pre">address</span></code> which returns all transactions involving the given address (as sender, recipient or cosigner).</p>
<p class="last">This might either be a Base32 <a class="reference internal" href="../../concepts/cryptography.html#address"><span class="std std-ref">Address</span></a> or a <a class="reference internal" href="../../concepts/namespace.html"><span class="doc">Namespace</span></a>. If the bit 0 of byte 0 is not set (e.g. 0x90) then it is an address, otherwise (e.g. 0x91) it represents a namespace id which starts at byte 1.</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fromHeight</span></code></td>
<td>string</td>
<td>The starting block height to search for.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">toHeight</span></code></td>
<td>string</td>
<td>The ending block height to search for.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">embedded</span></code></td>
<td>boolean</td>
<td><p class="first">Use <code class="docutils literal"><span class="pre">true</span></code> to automatically search inside aggregate transactions. The data returned by a standalone transaction and an embedded transaction (one inside an aggregate) is slightly different (Check the next section).</p>
<p>Use <code class="docutils literal"><span class="pre">false</span></code> to manually search for aggregate transactions (e.g. types 0x4141 and 0x4241) and parse them.</p>
<p class="last"><strong>Caution</strong>: Does not work when combined with <code class="docutils literal"><span class="pre">address</span></code>, only with <code class="docutils literal"><span class="pre">recipientAddress</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="http://ngl-dual-101.testnet.symboldev.network:3000/transactions/confirmed?recipientAddress=TAOXUJOTTW3W5XTBQMQEX3SQNA6MCUVGXLXR3TA&amp;type=16724&amp;fromHeight=70000&amp;toHeight=80000&amp;embedded=true">Here is an example query</a>:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>http://ngl-dual-101.testnet.symboldev.network:3000
  /transactions/confirmed
    ?recipientAddress=TAOXUJOTTW3W5XTBQMQEX3SQNA6MCUVGXLXR3TA
    &amp;type=16724
    &amp;fromHeight=70000
    &amp;toHeight=80000
    &amp;embedded=true
</pre></div>
</div>
<p>This query returns the list of all <strong>transfer</strong> transactions sent to address <code class="docutils literal"><span class="pre">TAOXU...</span></code>, that happened between block height <strong>70000</strong> and <strong>80000</strong>, including transactions <strong>embedded</strong> inside other transactions.</p>
<p>The next section explains how to parse the resulting list.</p>
</div>
<div class="section" id="parsing-of-embedded-transactions">
<h3><a class="toc-backref" href="#id5">Parsing of embedded transactions</a><a class="headerlink" href="#parsing-of-embedded-transactions" title="Permalink to this headline">¶</a></h3>
<p>Symbol supports <a class="reference internal" href="../../concepts/aggregate-transaction.html#id1"><span class="std std-ref">Aggregate transactions</span></a>, i.e., <strong>transactions inside other transactions</strong>. For the most part it does not matter if a transaction is <strong>standalone</strong> or <strong>embedded</strong> inside another one, but there are a few differences which might be confusing when parsing incoming transactions. This section explains them.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can always <strong>receive</strong> embedded transactions, even if you never <strong>create</strong> any yourself. Make sure you understand how to parse them!</p>
</div>
<p>As shown in the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/searchConfirmedTransactions">/transactions/confirmed</a> endpoint documentation, a successfull query returns <strong>a data array</strong> including transactions and metadata (this array is <strong>paginated</strong> so pay attention to the <code class="docutils literal"><span class="pre">pageSize</span></code> and <code class="docutils literal"><span class="pre">pageNumber</span></code> parameters and return values). Each one of the returned transactions can match a different schema depending on the transaction’s type, so the <code class="docutils literal"><span class="pre">type</span></code> field of each transaction must be checked.</p>
<p>Moreover, the metadata content is also different when the transaction is embedded inside an <a class="reference internal" href="../../concepts/aggregate-transaction.html#id1"><span class="std std-ref">Aggregate transaction</span></a>.</p>
<p>This is specially important when using the <code class="docutils literal"><span class="pre">embedded=true</span></code> parameter since some of the returned transactions might be <strong>embedded</strong> transactions whereas some other might be <strong>regular</strong> transactions, and the involved schemas are different.</p>
<p>For example the above sample query, which filters by <code class="docutils literal"><span class="pre">type=16724</span></code> (transfer transactions), actually returns both <code class="docutils literal"><span class="pre">TransferTransactionDTO</span></code> and <code class="docutils literal"><span class="pre">EmbeddedTransferTransactionDTO</span></code> objects because of the <code class="docutils literal"><span class="pre">embedded=true</span></code> parameter. The attached metadata also varies between <code class="docutils literal"><span class="pre">TransactionMetaDTO</span></code> and <code class="docutils literal"><span class="pre">EmbeddedTransactionMetaDTO</span></code>.</p>
<p>These are the main differences to keep in mind:</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">Metadata</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="35%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Regular</th>
<th class="head">Embedded</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Schema</td>
<td><code class="docutils literal"><span class="pre">TransactionMetaDTO</span></code></td>
<td><code class="docutils literal"><span class="pre">EmbeddedTransactionMetaDTO</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">index</span></code></td>
<td>Transaction index <strong>within the block</strong></td>
<td>Transaction index <strong>within the aggregate transaction</strong>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">hash</span></code></td>
<td>Transaction Hash</td>
<td>-</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">aggregateHash</span></code></td>
<td>-</td>
<td>Hash of the containing aggregate transaction.</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils" id="id2">
<caption><span class="caption-text">Transaction</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="35%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Regular</th>
<th class="head">Embedded</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Schema</td>
<td><code class="docutils literal"><span class="pre">TransferTransactionDTO</span></code></td>
<td><code class="docutils literal"><span class="pre">EmbeddedTransferTransactionDTO</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">size</span></code></td>
<td>Transaction size in bytes</td>
<td>-</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">signature</span></code></td>
<td>Signature generated by the signer</td>
<td>-</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">maxFee</span></code></td>
<td>Maximum fee to pay for the transaction</td>
<td>-</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">deadline</span></code></td>
<td>Number of blocks before the transaction expires</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>The above 4 fields are missing from the embedded transaction because they belong to the containing aggregate transaction. To access them recover first the aggregate transaction using the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/getConfirmedTransaction">/transactions/confirmed/{transactionId}</a> endpoint and <code class="docutils literal"><span class="pre">aggregateHash</span></code> as Id.</p>
<p>If you are not interested in any of the fields listed above you can safely treat regular and embedded transfer transactions the same way, since they share the rest of properties.</p>
</div>
<div class="section" id="alias-resolution">
<h3><a class="toc-backref" href="#id6">Alias resolution</a><a class="headerlink" href="#alias-resolution" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="../../concepts/mosaic.html"><span class="doc">Mosaics</span></a> IDs and <a class="reference internal" href="../../concepts/cryptography.html#address"><span class="std std-ref">addresses</span></a> are long random strings which are cumbersome to use. For convenience, Symbol provides <strong>namespaces</strong>, which are user-provided <strong>text strings</strong> (aliases) that can be used instead of addresses or mosaic IDs. A namespace can always be <strong>resolved</strong> into the actual address or mosaic ID that it represents.</p>
<p>The most common example is <code class="docutils literal"><span class="pre">symbol.xym</span></code> (Namespace ID <code class="docutils literal"><span class="pre">0xE74B99BA41F4AFEE</span></code>) which is an <strong>alias</strong> for Symbol’s native currency (Mosaic ID <code class="docutils literal"><span class="pre">0x6BED913FA20223F8</span></code>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Mosaic ID <code class="docutils literal"><span class="pre">0x6BED913FA20223F8</span></code> and <code class="docutils literal"><span class="pre">0xE74B99BA41F4AFEE</span></code> can always be safely treated as equivalent.</p>
<p class="last">You might find transactions using one or the other depending on whether they were created using directly the mosaic ID or the namespace.</p>
</div>
<p><code class="docutils literal"><span class="pre">symbol.xym</span></code> is a namespace which does not <strong>expire</strong> so the above equivalence <strong>always holds</strong>. However, regular namespaces are rented <strong>for a limited amount of time</strong>, and this poses a problem when resolving them because after expiration a namespace might get rented again and be aliased to a different mosaic or address.</p>
<p>Therefore, <strong>to correctly resolve a namespace found in a transaction, the block height that included the transaction must be taken into account</strong>.</p>
<p>This is very easy to do because all blocks which include a namespace also include a <a class="reference internal" href="../../concepts/receipt.html#receipt-resolution-statement"><span class="std std-ref">Resolution statement</span></a> containing the resolved namespace. Just use the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/searchMosaicResolutionStatements">/statements/resolutions/mosaic</a> and <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/searchAddressResolutionStatements">/statements/resolutions/address</a> endpoints to retrieve all statements for a given block, and then locate the unresolved namespace ID you are interested in.</p>
<p><strong>Example using TESTNET:</strong></p>
<ul>
<li><p class="first"><a class="reference external" href="http://ngl-dual-101.testnet.symboldev.network:3000/transactions/confirmed?height=211972">/transactions/confirmed?height=211972</a> retrieves all transactions included in block 211972.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="nt">&quot;transaction&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">176</span><span class="p">,</span>
   <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;35DC5689...&quot;</span><span class="p">,</span>
   <span class="nt">&quot;signerPublicKey&quot;</span><span class="p">:</span> <span class="s2">&quot;B49D1910...&quot;</span><span class="p">,</span>
   <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
   <span class="nt">&quot;network&quot;</span><span class="p">:</span> <span class="mi">152</span><span class="p">,</span>
   <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="mi">16724</span><span class="p">,</span>
   <span class="nt">&quot;maxFee&quot;</span><span class="p">:</span> <span class="s2">&quot;100000&quot;</span><span class="p">,</span>
   <span class="nt">&quot;deadline&quot;</span><span class="p">:</span> <span class="s2">&quot;8530382295&quot;</span><span class="p">,</span>
   <span class="nt">&quot;recipientAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;981D7A25D39DB76EDE6183204BEE50683CC152A6BAEF1DCC&quot;</span><span class="p">,</span>
   <span class="nt">&quot;mosaics&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;E374D0B5E061EE92&quot;</span><span class="p">,</span>
      <span class="nt">&quot;amount&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>However, the mosaic ID <code class="docutils literal"><span class="pre">0xE374D0B5E061EE92</span></code> does not exist (<code class="docutils literal"><span class="pre">/mosaics/E374D0B5E061EE92</span></code> would return a <code class="docutils literal"><span class="pre">ResourceNotFound</span></code> error). Besides, the highest bit being set indicates this is actually a namespace.</p>
</li>
<li><p class="first">You could check the <strong>current</strong> alias of this namespace by querying <a class="reference external" href="http://ngl-dual-101.testnet.symboldev.network:3000/namespaces/E374D0B5E061EE92">/namespaces/E374D0B5E061EE92</a>, but you actually want to know the aliased mosaic ID <strong>at the time the transaction was confirmed</strong>.</p>
</li>
<li><p class="first">You do this by checking the block’s <a class="reference internal" href="../../concepts/receipt.html#receipt-resolution-statement"><span class="std std-ref">Resolution statement</span></a> at <a class="reference external" href="http://ngl-dual-101.testnet.symboldev.network:3000/statements/resolutions/mosaic?height=211972">statements/resolutions/mosaic?height=211972</a>:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;statement&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="s2">&quot;211972&quot;</span><span class="p">,</span>
    <span class="nt">&quot;unresolved&quot;</span><span class="p">:</span> <span class="s2">&quot;E374D0B5E061EE92&quot;</span><span class="p">,</span>
    <span class="nt">&quot;resolutionEntries&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;primaryId&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nt">&quot;secondaryId&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="nt">&quot;resolved&quot;</span><span class="p">:</span> <span class="s2">&quot;0DDE03C044AF95D4&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;60DEDC83EA7C4338C56C4FB6&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Here you can see the resolved mosaic ID, <code class="docutils literal"><span class="pre">0x0DDE03C044AF95D4</span></code> which is a valid ID and can be queried with <a class="reference external" href="http://ngl-dual-101.testnet.symboldev.network:3000/mosaics/0DDE03C044AF95D4">/mosaics/0DDE03C044AF95D4</a>.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="sending-transactions">
<h2><a class="toc-backref" href="#id7">Sending transactions</a><a class="headerlink" href="#sending-transactions" title="Permalink to this headline">¶</a></h2>
<p>Transactions are announced to the network through the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/announceTransaction">/transactions</a> endpoint which accepts an hexadecimal string representing the transaction’s payload. The process to build this payload is explained fairly extensively in the <a class="reference internal" href="../../concepts/transaction.html#transaction-definition"><span class="std std-ref">Defining a transaction</span></a> guide.</p>
<p>The following sections aim at clarifying the points which have been deemed the most confusing by users of the API.</p>
<div class="section" id="transaction-deadline">
<h3><a class="toc-backref" href="#id8">Transaction deadline</a><a class="headerlink" href="#transaction-deadline" title="Permalink to this headline">¶</a></h3>
<p>Transactions are not allowed to remain unconfirmed in the network forever, as this would pose a significant strain on the network’s resources. Instead, <strong>all transactions have a deadline</strong>, and are automatically disposed of when the deadline arrives.</p>
<p>Users are free to use any deadline they want for their transactions, between <strong>now</strong> and <strong>6h into the future</strong> (48h for <a class="reference internal" href="../../concepts/aggregate-transaction.html#aggregate-bonded"><span class="std std-ref">Aggregate bonded</span></a> transactions). Transactions announced with a deadline outside this window will be rejected with an <strong>invalid deadline</strong> error.</p>
<p>Deadlines are given in <strong>milliseconds since the creation of the nemesis block</strong>.</p>
<p>The moment when the <a class="reference internal" href="../../concepts/block.html#block-creation"><span class="std std-ref">nemesis block</span></a> was created can be found in the <code class="docutils literal"><span class="pre">network.epochAdjustment</span></code> property of the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/getNetworkProperties">/network/properties</a> endpoint. This is the <strong>number of seconds</strong> elapsed since the <a class="reference external" href="https://en.wikipedia.org/wiki/Unix_time">UNIX epoch</a> and <strong>it is always 1615853185 for MAINNET</strong>.</p>
<p>In other words, you need to substract the <strong>epoch adjustment</strong> from a Unix time to obtain a deadline. Therefore, a <strong>deadline 2h into the future</strong>, which is the default deadline provided by the SDK, can be calculated as:</p>
<div class="highlight-typescript"><div class="highlight"><pre><span></span><span class="nx">currentTime</span> <span class="o">=</span> <span class="nx">now</span><span class="p">();</span> <span class="c1">// Seconds since the UNIX epoch</span>
<span class="nx">deadline</span> <span class="o">=</span> <span class="p">(</span><span class="nx">currentTime</span> <span class="o">+</span> <span class="mf">7200</span> <span class="o">-</span> <span class="nx">epochAdjustment</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1000</span><span class="p">;</span>
</pre></div>
</div>
<p>This deadline can now be used when building the transaction, and it will expire 2h from now (7200 seconds).</p>
</div>
<div class="section" id="transaction-fee">
<h3><a class="toc-backref" href="#id9">Transaction fee</a><a class="headerlink" href="#transaction-fee" title="Permalink to this headline">¶</a></h3>
<p>The effective <a class="reference internal" href="../../concepts/fees.html"><span class="doc">Fee</span></a> a transaction must pay to be announced is the <strong>transaction size</strong> (in bytes) times a <strong>fee multiplier</strong> chosen by the node that confirms the transaction.</p>
<p>Since this multiplier is unknown when making the announcement, <strong>transactions</strong> define the <strong>maximum fee</strong> they are willing to pay.</p>
<p>Moreover, <strong>nodes</strong> can define a <strong>minimum fee</strong> below which transactions are just ignored.</p>
<p>As a consequence, choosing the right maximum fee for a transaction is very important: Too low a number and the transaction will not be confirmed by any node and will eventually expire. Too high maximum fees, though, will incur in unnecessary expenses.</p>
<p>To help choose the right amount, the <a class="reference external" href="https://docs.symbolplatform.com/symbol-openapi/v1.0.1/#operation/getTransactionFees">/network/fees/transaction</a> endpoint provides some statistics regarding the effective fees paid by the last 60 blocks. The returned data is:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Highest</td>
<td>Biggest fee multiplier used in the last 60 blocks.</td>
</tr>
<tr class="row-odd"><td>Median</td>
<td>The <a class="reference external" href="https://en.wikipedia.org/wiki/Median">median value</a> of the fee multipliers used in the last 60 blocks. See the <a class="reference internal" href="../../concepts/fees.html#fees-dynamic-multiplier"><span class="std std-ref">Dynamic fee multiplier</span></a> section for more details.</td>
</tr>
<tr class="row-even"><td>Mean</td>
<td>The <a class="reference external" href="https://en.wikipedia.org/wiki/Arithmetic_mean">average value</a> of the fee multipliers used in the last 60 blocks.</td>
</tr>
<tr class="row-odd"><td>Lowest</td>
<td>Smallest fee multiplier used in the last 60 blocks.</td>
</tr>
<tr class="row-even"><td>Min</td>
<td>The minimum fee multiplier accepted by the node being queried.</td>
</tr>
</tbody>
</table>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last"><code class="docutils literal"><span class="pre">minFeeMultiplier</span></code> refers to <strong>the node</strong> being queried, whereas the rest of properties refer to <strong>the whole network</strong>.</p>
</div>
<p>A good rule of thumb is to use the <code class="docutils literal"><span class="pre">medianFeeMultiplier</span></code>. This typically provides timely confirmation of transactions without incurring in excessive fees being paid.</p>
<p><a class="reference external" href="http://ngl-dual-104.symbolblockchain.io:3000/network/fees/transaction">Here is an example query on the MAINNET</a>.</p>
</div>
</div>
</div>

  <div class="section">
  
  
  </div>

            
            <p class="feedback">
                <hr/>
                Did you find what you were looking for?
                <a href="https://github.com/symbol/symbol-docs/issues/new/choose" target="_blank">Give us your feedback.</a>
            </p>
            
        </div>
         

<div class="col-md-2">
    <div class="bs-sidenav secondary" role="complementary">
    
    <div class="edit-github">
    <a href="https://github.com/symbol/symbol-docs/edit/main/source/guides/exchanges/exchange-REST-troubleshooting.rst" rel="nofollow"> <i class="fab fa-github"></i> Improve this page</a>
</div>
    <span class="title">On this page</span>
    <ul>
<li><a class="reference internal" href="#">REST API Troubleshooting Guide for Exchanges</a><ul>
<li><a class="reference internal" href="#receiving-transactions">Receiving transactions</a><ul>
<li><a class="reference internal" href="#filtering-by-block-height-and-more">Filtering (by block height and more)</a></li>
<li><a class="reference internal" href="#parsing-of-embedded-transactions">Parsing of embedded transactions</a></li>
<li><a class="reference internal" href="#alias-resolution">Alias resolution</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sending-transactions">Sending transactions</a><ul>
<li><a class="reference internal" href="#transaction-deadline">Transaction deadline</a></li>
<li><a class="reference internal" href="#transaction-fee">Transaction fee</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    
    </div>
</div>

 
    </div>
</div>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-desktop',
        debug: false
    });

    docsearch({
        apiKey: 'fea87a364e2d51e3729a3a4889f7fe61',
        indexName: 'nemtech',
        inputSelector: '.search-mobile',
        debug: false
    });
</script>

  </body>
</html>